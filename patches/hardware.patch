From 054c4b6988ffcd75954d717df7a37d8cca408aff Mon Sep 17 00:00:00 2001
From: Adithya R <gh0strider.2k18.reborn@gmail.com>
Date: Tue, 30 May 2023 17:59:17 +0530
Subject: [PATCH 1/4] MotoActions: Show model number and carrier in About Phone

Similar to stock ROM.

Change-Id: I3602d0c240812e4805c5ecba6fc6d4ca1e0723d7
---
 MotoActions/AndroidManifest.xml               | 21 +++++
 MotoActions/res/values/strings.xml            | 12 +++
 MotoActions/res/xml/model_number_panel.xml    | 36 +++++++++
 .../settings/device/ModelNumberActivity.java  | 35 ++++++++
 .../settings/device/ModelNumberFragment.java  | 36 +++++++++
 .../settings/device/MotoActionsSettings.java  | 18 +++++
 .../settings/device/SummaryProvider.java      | 79 +++++++++++++++++++
 7 files changed, 237 insertions(+)
 create mode 100644 MotoActions/res/values/strings.xml
 create mode 100644 MotoActions/res/xml/model_number_panel.xml
 create mode 100644 MotoActions/src/org/lineageos/settings/device/ModelNumberActivity.java
 create mode 100644 MotoActions/src/org/lineageos/settings/device/ModelNumberFragment.java
 create mode 100644 MotoActions/src/org/lineageos/settings/device/SummaryProvider.java

diff --git a/hardware/motorola/MotoActions/AndroidManifest.xml b/hardware/motorola/MotoActions/AndroidManifest.xml
index dea1bf2..126d506 100644
--- a/hardware/motorola/MotoActions/AndroidManifest.xml
+++ b/hardware/motorola/MotoActions/AndroidManifest.xml
@@ -60,6 +60,27 @@
                 android:resource="@string/device_gestures_panel_summary" />
         </activity>
 
+        <activity
+            android:name=".ModelNumberActivity"
+            android:exported="false"
+            android:label="@string/model_number_title"
+            android:theme="@style/Theme.SubSettingsBase">
+            <intent-filter>
+                <action android:name="com.android.settings.action.IA_SETTINGS" />
+            </intent-filter>
+            <meta-data
+                android:name="com.android.settings.category"
+                android:value="com.android.settings.category.ia.my_device_info" />
+            <meta-data
+                android:name="com.android.settings.summary_uri"
+                android:value="content://org.lineageos.settings.device.summary/model_number" />
+        </activity>
+
+        <provider
+            android:name=".SummaryProvider"
+            android:authorities="org.lineageos.settings.device.summary">
+        </provider>
+
     </application>
 
 </manifest>
diff --git a/hardware/motorola/MotoActions/res/values/strings.xml b/hardware/motorola/MotoActions/res/values/strings.xml
new file mode 100644
index 0000000..a7979fd
--- /dev/null
+++ b/hardware/motorola/MotoActions/res/values/strings.xml
@@ -0,0 +1,12 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+     Copyright (C) 2023 ArrowOS
+     SPDX-License-Identifier: Apache-2.0
+-->
+<resources>
+
+    <string name="model_number_title">Model number</string>
+    <string name="model_number_pref_title">Model number (SKU)</string>
+    <string name="carrier_title">Software channel (carrier)</string>
+
+</resources>
diff --git a/hardware/motorola/MotoActions/res/xml/model_number_panel.xml b/hardware/motorola/MotoActions/res/xml/model_number_panel.xml
new file mode 100644
index 0000000..abaa6bb
--- /dev/null
+++ b/hardware/motorola/MotoActions/res/xml/model_number_panel.xml
@@ -0,0 +1,36 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+     Copyright (C) 2023 ArrowOS
+
+     Licensed under the Apache License, Version 2.0 (the "License"
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+<PreferenceScreen
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:settings="http://schemas.android.com/apk/res-auto"
+    android:title="@string/model_number_title">
+
+    <Preference
+        android:key="model_number"
+        android:title="@string/model_number_pref_title"
+        android:summary="@string/summary_placeholder"
+        android:selectable="false"
+        settings:enableCopying="true" />
+
+    <Preference
+        android:key="carrier"
+        android:title="@string/carrier_title"
+        android:summary="@string/summary_placeholder"
+        android:selectable="false"
+        settings:enableCopying="true" />
+
+</PreferenceScreen>
diff --git a/hardware/motorola/MotoActions/src/org/lineageos/settings/device/ModelNumberActivity.java b/hardware/motorola/MotoActions/src/org/lineageos/settings/device/ModelNumberActivity.java
new file mode 100644
index 0000000..da98205
--- /dev/null
+++ b/hardware/motorola/MotoActions/src/org/lineageos/settings/device/ModelNumberActivity.java
@@ -0,0 +1,35 @@
+/*
+ * Copyright (c) 2016 The CyanogenMod Project
+ * Copyright (c) 2017-2024 The LineageOS Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.lineageos.settings.device;
+
+import android.os.Bundle;
+
+import com.android.settingslib.collapsingtoolbar.CollapsingToolbarBaseActivity;
+
+public class ModelNumberActivity extends CollapsingToolbarBaseActivity {
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        getFragmentManager()
+                .beginTransaction()
+                .replace(com.android.settingslib.collapsingtoolbar.R.id.content_frame,
+                        new ActionsPreferenceFragment())
+                .commit();
+    }
+}
diff --git a/hardware/motorola/MotoActions/src/org/lineageos/settings/device/ModelNumberFragment.java b/hardware/motorola/MotoActions/src/org/lineageos/settings/device/ModelNumberFragment.java
new file mode 100644
index 0000000..017a6d8
--- /dev/null
+++ b/hardware/motorola/MotoActions/src/org/lineageos/settings/device/ModelNumberFragment.java
@@ -0,0 +1,36 @@
+/*
+ * Copyright (C) 2023 ArrowOS
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.lineageos.settings.device;
+
+import android.os.Bundle;
+
+import androidx.preference.Preference;
+import androidx.preference.PreferenceFragment;
+
+public class ModelNumberFragment extends PreferenceFragment {
+
+    @Override
+    public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {
+        addPreferencesFromResource(R.xml.model_number_panel);
+
+        findPreference(MotoActionsSettings.MODEL_NUMBER_KEY)
+                .setSummary(MotoActionsSettings.getModelNumberString(getActivity()));
+
+        findPreference(MotoActionsSettings.CARRIER_KEY)
+                .setSummary(MotoActionsSettings.getCarrierString(getActivity()));
+    }
+}
diff --git a/hardware/motorola/MotoActions/src/org/lineageos/settings/device/MotoActionsSettings.java b/hardware/motorola/MotoActions/src/org/lineageos/settings/device/MotoActionsSettings.java
index fcd05b0..2701c27 100644
--- a/hardware/motorola/MotoActions/src/org/lineageos/settings/device/MotoActionsSettings.java
+++ b/hardware/motorola/MotoActions/src/org/lineageos/settings/device/MotoActionsSettings.java
@@ -23,6 +23,7 @@
 import android.content.Context;
 import android.content.SharedPreferences;
 import android.hardware.display.AmbientDisplayConfiguration;
+import android.os.SystemProperties;
 import android.os.UserHandle;
 import android.provider.Settings;
 
@@ -44,6 +45,11 @@ public class MotoActionsSettings {
     static final String DOZE_ENABLE = "doze_enable";
     static final String ALWAYS_ON_DISPLAY = "always_on_display";
 
+    static final String MODEL_NUMBER_KEY = "model_number";
+    static final String MODEL_NUMBER_PROP = "ro.boot.hardware.sku";
+    static final String CARRIER_KEY = "carrier";
+    static final String CARRIER_PROP = "ro.boot.carrier";
+
     private final Context mContext;
     private final UpdatedStateNotifier mUpdatedStateNotifier;
 
@@ -127,6 +133,18 @@ public void chopChopAction() {
         new TorchAction(mContext).action();
     }
 
+    private static String getStringProperty(Context context, String key) {
+        return SystemProperties.get(key, context.getString(R.string.unknown));
+    }
+
+    public static String getModelNumberString(Context context) {
+        return getStringProperty(context, MODEL_NUMBER_PROP);
+    }
+
+    public static String getCarrierString(Context context) {
+        return getStringProperty(context, CARRIER_PROP);
+    }
+
     private void loadPreferences(SharedPreferences sharedPreferences) {
         mChopChopEnabled = sharedPreferences.getBoolean(GESTURE_CHOP_CHOP_KEY, true);
         mIrWakeUpEnabled = sharedPreferences.getBoolean(GESTURE_IR_WAKEUP_KEY, true);
diff --git a/hardware/motorola/MotoActions/src/org/lineageos/settings/device/SummaryProvider.java b/hardware/motorola/MotoActions/src/org/lineageos/settings/device/SummaryProvider.java
new file mode 100644
index 0000000..6595b7e
--- /dev/null
+++ b/hardware/motorola/MotoActions/src/org/lineageos/settings/device/SummaryProvider.java
@@ -0,0 +1,79 @@
+/*
+ * Copyright (C) 2019 The Android Open Source Project
+ *           (C) 2023 ArrowOS
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License
+ */
+
+package org.lineageos.settings.device;
+
+import static com.android.settingslib.drawer.TileUtils.META_DATA_PREFERENCE_SUMMARY;
+
+import android.content.ContentProvider;
+import android.content.ContentValues;
+import android.database.Cursor;
+import android.net.Uri;
+import android.os.Bundle;
+
+/** Provide preference summary for injected items. */
+public class SummaryProvider extends ContentProvider {
+
+    @Override
+    public Bundle call(String method, String uri, Bundle extras) {
+        final Bundle bundle = new Bundle();
+        String summary;
+        switch (method) {
+            case MotoActionsSettings.MODEL_NUMBER_KEY:
+                summary = MotoActionsSettings.getModelNumberString(getContext());
+                break;
+            case MotoActionsSettings.CARRIER_KEY:
+                summary = MotoActionsSettings.getCarrierString(getContext());
+                break;
+            default:
+                throw new IllegalArgumentException("Unknown method: " + method);
+        }
+        bundle.putString(META_DATA_PREFERENCE_SUMMARY, summary);
+        return bundle;
+    }
+
+    @Override
+    public boolean onCreate() {
+        return true;
+    }
+
+    @Override
+    public Cursor query(Uri uri, String[] projection, String selection, String[] selectionArgs,
+            String sortOrder) {
+        throw new UnsupportedOperationException();
+    }
+
+    @Override
+    public String getType(Uri uri) {
+        throw new UnsupportedOperationException();
+    }
+
+    @Override
+    public Uri insert(Uri uri, ContentValues values) {
+        throw new UnsupportedOperationException();
+    }
+
+    @Override
+    public int delete(Uri uri, String selection, String[] selectionArgs) {
+        throw new UnsupportedOperationException();
+    }
+
+    @Override
+    public int update(Uri uri, ContentValues values, String selection, String[] selectionArgs) {
+        throw new UnsupportedOperationException();
+    }
+}

From 28a5931a8f596f1825afaa36b2680e461b9e26a2 Mon Sep 17 00:00:00 2001
From: Adithya R <gh0strider.2k18.reborn@gmail.com>
Date: Wed, 29 Mar 2023 12:08:26 +0530
Subject: [PATCH 2/4] MotoActions: Move doze to lockscreen settings

---
 MotoActions/AndroidManifest.xml | 12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

diff --git a/hardware/motorola/MotoActions/AndroidManifest.xml b/hardware/motorola/MotoActions/AndroidManifest.xml
index 126d506..899e289 100644
--- a/hardware/motorola/MotoActions/AndroidManifest.xml
+++ b/hardware/motorola/MotoActions/AndroidManifest.xml
@@ -39,9 +39,17 @@
             android:label="@string/ambient_display_gestures_title"
             android:theme="@style/Theme.SubSettingsBase">
             <intent-filter>
-                <action android:name="org.lineageos.settings.device.DOZE_SETTINGS" />
-                <category android:name="android.intent.category.DEFAULT" />
+                <action android:name="com.android.settings.action.IA_SETTINGS" />
             </intent-filter>
+            <meta-data
+                android:name="com.android.settings.category"
+                android:value="com.android.settings.category.ia.lockscreen" />
+            <meta-data
+                android:name="com.android.settings.summary"
+                android:value="@string/ambient_display_gestures_summary" />
+             <meta-data
+                android:name="com.android.settings.order"
+                android:value="1001" />
         </activity>
 
         <activity

From 17f73a24bd2391ed73f0206606fe715ac771c88f Mon Sep 17 00:00:00 2001
From: Adithya R <gh0strider.2k18.reborn@gmail.com>
Date: Wed, 29 Mar 2023 12:50:26 +0530
Subject: [PATCH 3/4] Revert "MotoActions: Drop camera activation action"

The AOSP equivalent lies in Settings > Display, which makes no sense.
It's better to have all our gestures in one place.

This reverts commit 2e86ad1f91473600d87929d64f2701d387292503.

Revert "Add common RRO overlay to enable AOSP camera launch gesture"

This reverts commit 5653c1c489c094be7dc076e0345a084cf6d42afa.

Change-Id: Iadd3deb6bb6a06f3c7ef7c23df8ffb4ed0178ae6
---
 .../res/drawable/ic_settings_twist.xml        |  26 ++++
 MotoActions/res/xml/actions_panel.xml         |   7 +
 .../device/ActionsPreferenceFragment.java     |   8 +
 .../settings/device/MotoActionsService.java   |   2 +
 .../settings/device/MotoActionsSettings.java  |  16 +-
 .../settings/device/SensorHelper.java         |   5 +
 .../actions/CameraActivationAction.java       | 137 ++++++++++++++++++
 .../actions/CameraActivationSensor.java       |  70 +++++++++
 overlay/Android.bp                            |  11 --
 overlay/MotoFrameworksResTarget/Android.bp    |  10 --
 .../AndroidManifest.xml                       |   9 --
 .../res/values/config.xml                     |  12 --
 12 files changed, 270 insertions(+), 43 deletions(-)
 create mode 100644 MotoActions/res/drawable/ic_settings_twist.xml
 create mode 100644 MotoActions/src/org/lineageos/settings/device/actions/CameraActivationAction.java
 create mode 100644 MotoActions/src/org/lineageos/settings/device/actions/CameraActivationSensor.java
 delete mode 100644 overlay/Android.bp
 delete mode 100644 overlay/MotoFrameworksResTarget/Android.bp
 delete mode 100644 overlay/MotoFrameworksResTarget/AndroidManifest.xml
 delete mode 100644 overlay/MotoFrameworksResTarget/res/values/config.xml

diff --git a/hardware/motorola/MotoActions/res/drawable/ic_settings_twist.xml b/hardware/motorola/MotoActions/res/drawable/ic_settings_twist.xml
new file mode 100644
index 0000000..f04e77f
--- /dev/null
+++ b/hardware/motorola/MotoActions/res/drawable/ic_settings_twist.xml
@@ -0,0 +1,26 @@
+<?xml version="1.0" encoding="utf-8"?>
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="46.0dip"
+    android:height="46.0dip"
+    android:autoMirrored="true"
+    android:viewportWidth="46.0"
+    android:viewportHeight="46.0">
+    <path android:fillColor="?android:attr/colorAccent" android:pathData="M20,20m-19.5,0a19.5,19.5 0,1 1,39 0a19.5,19.5 0,1 1,-39 0" />
+    <path android:fillColor="#00000000" android:pathData="M20.0003,20.0038m-16.3277,6.4349a17.55,17.55 113.49,1 1,32.6554 -12.8699a17.55,17.55 113.49,1 1,-32.6554 12.8699" android:strokeColor="#ff0bbbef" android:strokeWidth="0.28" android:strokeAlpha="0.0" android:fillAlpha="0.0" />
+    <path android:fillColor="#00000000" android:pathData="M20.0003,20.0062m-6.4349,16.3277a17.55,17.55 66.51,1 1,12.8699 -32.6554a17.55,17.55 66.51,1 1,-12.8699 32.6554" android:strokeColor="#ff0bbbef" android:strokeWidth="0.28" android:strokeAlpha="0.0" android:fillAlpha="0.0" />
+    <path android:fillColor="?android:attr/colorAccent" android:pathData="M14.2,13.79c0.15,-0.13 0.27,-0.17 0.48,0A1.49,1.49 0,0 1,15.23 15a1.55,1.55 0,0 1,-0.27 0.88c-0.48,0.75 -1,1.54 -1.67,2.51a1.71,1.71 0,0 0,-0.35 1,1.36 1.36,0 0,0 0.17,0.64 1.48,1.48 0,0 0,1.41 0.73s-1.68,10.62 -4,10.53a5.17,5.17 0,0 1,-4.75 -4.49c-0.07,-0.7 -0.08,-1.4 -0.08,-2 0,-0.24 0,-0.47 0,-0.71v-0.85a3.42,3.42 0,0 1,1.13 -2.62c2,-1.86 4.07,-3.74 6.07,-5.56Z" />
+    <path android:fillColor="#ffffffff" android:pathData="M4.59,24.73L4.59,24c0,-0.24 0,-0.48 0,-0.72v-0.11a4.56,4.56 0,0 1,1.48 -3.44c2,-1.86 4.08,-3.74 6.07,-5.56L13.46,13a1.4,1.4 0,0 1,1.92 0,2.59 2.59,0 0,1 0.94,2 2.72,2.72 0,0 1,-0.44 1.48c-0.48,0.75 -1,1.55 -1.69,2.53a0.71,0.71 0,0 0,-0.15 0.34,0.25 0.25,0 0,0 0,0.12c0,0.07 0.09,0.15 0.45,0.15 0,0 -1.69,12.81 -4,12.73a6.24,6.24 0,0 1,-5.8 -5.49C4.6,26.09 4.59,25.35 4.59,24.73ZM5.69,23.3L5.69,24c0,0.24 0,0.47 0,0.71 0,0.6 0,1.3 0.08,2a5.17,5.17 0,0 0,4.75 4.49c2.33,0.09 4,-10.53 4,-10.53A1.48,1.48 0,0 1,13.11 20a1.36,1.36 0,0 1,-0.17 -0.64,1.71 1.71,0 0,1 0.35,-1c0.66,-1 1.19,-1.76 1.67,-2.51a1.55,1.55 0,0 0,0.27 -0.88,1.49 1.49,0 0,0 -0.55,-1.17c-0.21,-0.18 -0.33,-0.14 -0.48,0L12.89,15c-2,1.82 -4.05,3.7 -6.07,5.56a3.42,3.42 0,0 0,-1.13 2.62Z" />
+    <path android:fillColor="#ffffffff" android:pathData="M24.49,23.31m-1.05,0a1.05,1.05 0,1 1,2.1 0a1.05,1.05 0,1 1,-2.1 0" />
+    <path android:fillColor="?android:attr/colorAccent" android:pathData="M20,20.22l6.84,-0.29h0.07A1.61,1.61 0,0 1,27 23.15l-10.35,0.44Z" />
+    <path android:fillColor="#ffffffff" android:pathData="M26.94,20.63a0.91,0.91 0,0 1,0 1.82l-7.07,0.3h0l-1.49,0.06 1.91,-1.91 6.57,-0.27h0m0,-1.4h-0.1l-6.57,0.28 -0.54,0 -0.39,0.38 -1.91,1.91L14.9,24.36l3.58,-0.15L20,24.14l7.07,-0.3a2.31,2.31 0,0 0,-0.1 -4.61Z" />
+    <path android:fillColor="#ffffffff" android:pathData="M5.9285,25.595L19.0736,12.4499A2.11,2.11 90,0 1,22.0576 12.4499L27.5094,17.9017A2.11,2.11 90,0 1,27.5094 20.8857L14.3643,34.0308A2.11,2.11 90,0 1,11.3803 34.0308L5.9285,28.579A2.11,2.11 90,0 1,5.9285 25.595z" />
+    <path android:fillColor="?android:attr/colorAccent" android:pathData="M6.6909,26.0646l12.9047,-12.9047l7.1983,7.1983l-12.9047,12.9047z" />
+    <path android:fillColor="?android:attr/colorAccent" android:pathData="M20.11,29.48a1.58,1.58 0,0 1,-1.47 -1A1.6,1.6 0,0 1,19 26.75a1.74,1.74 0,0 1,1.12 -0.49l0.69,-0.06h0.1a1.65,1.65 0,0 1,1.62 1.26,1.62 1.62,0 0,1 -0.3,1.33 1.6,1.6 0,0 1,-1.2 0.63l-0.8,0.06Z" />
+    <path android:fillColor="#ffffffff" android:pathData="M20.89,26.9a1,1 0,0 1,0.94 0.71A0.91,0.91 0,0 1,21 28.72l-0.83,0.07h0a0.9,0.9 0,0 1,-0.63 -1.54,0.93 0.93,0 0,1 0.65,-0.29l0.72,-0.06h0m0,-1.4h-0.16l-0.7,0.06a2.36,2.36 0,0 0,-1.54 0.69,2.3 2.3,0 0,0 1.62,3.92h0.15l0.81,-0.07a2.31,2.31 0,0 0,2.12 -2.8,2.35 2.35,0 0,0 -2.3,-1.81Z" />
+    <path android:fillColor="#ff00a09b" android:pathData="M17.13,32.46A1.6,1.6 0,0 1,16 29.73a1.67,1.67 0,0 1,1.11 -0.49l0.69,-0.06h0.1a1.61,1.61 0,0 1,1.33 2.59,1.62 1.62,0 0,1 -1.21,0.62l-0.8,0.07Z" />
+    <path android:fillColor="#ffffffff" android:pathData="M17.91,29.87a1,1 0,0 1,0.94 0.71A0.92,0.92 0,0 1,18 31.7l-0.82,0.06h-0.05a0.9,0.9 0,0 1,-0.63 -1.54,1 1,0 0,1 0.65,-0.28l0.72,-0.06h0m0,-1.39h-0.16l-0.69,0.06a2.34,2.34 0,0 0,-1.55 0.69,2.3 2.3,0 0,0 1.62,3.92h0.16l0.8,-0.06a2.29,2.29 0,0 0,1.7 -0.9,2.33 2.33,0 0,0 0.42,-1.91 2.35,2.35 0,0 0,-2.3 -1.8Z" />
+    <path android:fillColor="?android:attr/colorAccent" android:pathData="M23.18,26.42a1.6,1.6 0,0 1,-1.13 -2.73,1.67 1.67,0 0,1 1.11,-0.49l0.69,-0.06H24a1.64,1.64 0,0 1,1.62 1.25,1.61 1.61,0 0,1 -0.29,1.34 1.62,1.62 0,0 1,-1.21 0.62l-0.8,0.07Z" />
+    <path android:fillColor="#ffffffff" android:pathData="M24,23.83a0.94,0.94 0,0 1,0.94 0.71A0.92,0.92 0,0 1,24 25.66l-0.82,0.06h0a0.9,0.9 0,0 1,-0.64 -1.54,1 1,0 0,1 0.65,-0.28l0.72,-0.07h0m0,-1.39h-0.16l-0.69,0.06a2.31,2.31 0,0 0,-1.54 0.69,2.3 2.3,0 0,0 1.62,3.92h0.15l0.8,-0.06a2.33,2.33 0,0 0,1.7 -0.9,2.29 2.29,0 0,0 0.42,-1.91 2.34,2.34 0,0 0,-2.3 -1.8Z" />
+    <path android:strokeColor="@color/quick" android:pathData="M29.44,16.46a1,1 0,0 1,-0.53 -0.15A26.91,26.91 0,0 1,24.82 13c-2.7,-2.63 -4.82,-6.46 -3.54,-8 0.74,-0.92 2,-0.79 3.78,0.38A1,1 0,1 1,24 7a5.43,5.43 0,0 0,-1.09 -0.58,11.45 11.45,0 0,0 3.32,5.18 23.86,23.86 0,0 0,3.78 3,1 1,0 0,1 0.3,1.37A1,1 0,0 1,29.44 16.46Z" />
+    <path android:pathData="M34.25,18.78a6.07,6.07 0,0 1,-1.57 -0.23,1 1,0 1,1 0.52,-1.92 3.44,3.44 0,0 0,1.23 0.17c0,-0.55 -0.83,-2.31 -3.33,-5a22.89,22.89 0,0 0,-3.92 -3.41,1 1,0 0,1 1.09,-1.65 24.54,24.54 0,0 1,4.28 3.71c4,4.36 4.18,6.45 3.59,7.43A2,2 0,0 1,34.25 18.78Z" />
+</vector>
diff --git a/hardware/motorola/MotoActions/res/xml/actions_panel.xml b/hardware/motorola/MotoActions/res/xml/actions_panel.xml
index 2fc32b9..21f5adb 100644
--- a/hardware/motorola/MotoActions/res/xml/actions_panel.xml
+++ b/hardware/motorola/MotoActions/res/xml/actions_panel.xml
@@ -22,6 +22,13 @@
     <PreferenceCategory
         android:key="actions_key">
 
+        <SwitchPreferenceCompat
+            android:key="gesture_camera_action"
+            android:defaultValue="true"
+            android:title="@string/camera_gesture_title"
+            android:summary="@string/camera_gesture_summary"
+            android:icon="@drawable/ic_settings_twist" />
+
         <SwitchPreferenceCompat
             android:key="gesture_chop_chop"
             android:defaultValue="true"
diff --git a/hardware/motorola/MotoActions/src/org/lineageos/settings/device/ActionsPreferenceFragment.java b/hardware/motorola/MotoActions/src/org/lineageos/settings/device/ActionsPreferenceFragment.java
index eab7ca4..ea83bb1 100644
--- a/hardware/motorola/MotoActions/src/org/lineageos/settings/device/ActionsPreferenceFragment.java
+++ b/hardware/motorola/MotoActions/src/org/lineageos/settings/device/ActionsPreferenceFragment.java
@@ -23,13 +23,21 @@
 import androidx.preference.PreferenceCategory;
 import androidx.preference.PreferenceFragment;
 
+import org.lineageos.settings.device.actions.CameraActivationSensor;
+
 public class ActionsPreferenceFragment extends PreferenceFragment {
 
     private static final String KEY_ACTIONS_CATEGORY = "actions_key";
+    private static final String KEY_GESTURE_CAMERA_ACTION = "gesture_camera_action";
 
     @Override
     public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {
         addPreferencesFromResource(R.xml.actions_panel);
+
+        if (!CameraActivationSensor.hasSensor(getContext())) {
+            PreferenceCategory category = findPreference(KEY_ACTIONS_CATEGORY);
+            category.removePreferenceRecursively(KEY_GESTURE_CAMERA_ACTION);
+        }
     }
 
     @Override
diff --git a/hardware/motorola/MotoActions/src/org/lineageos/settings/device/MotoActionsService.java b/hardware/motorola/MotoActions/src/org/lineageos/settings/device/MotoActionsService.java
index 740fd64..9507387 100644
--- a/hardware/motorola/MotoActions/src/org/lineageos/settings/device/MotoActionsService.java
+++ b/hardware/motorola/MotoActions/src/org/lineageos/settings/device/MotoActionsService.java
@@ -26,6 +26,7 @@
 import android.os.PowerManager;
 import android.util.Log;
 
+import org.lineageos.settings.device.actions.CameraActivationSensor;
 import org.lineageos.settings.device.actions.ChopChopSensor;
 import org.lineageos.settings.device.actions.FlipToMute;
 import org.lineageos.settings.device.actions.LiftToSilence;
@@ -63,6 +64,7 @@ public void onCreate() {
         mScreenStateNotifiers.add(new FlatUpSensor(actionsSettings, sensorHelper, dozePulseAction));
 
         // Other actions that are always enabled
+        mUpdatedStateNotifiers.add(new CameraActivationSensor(actionsSettings, sensorHelper));
         mUpdatedStateNotifiers.add(new ChopChopSensor(actionsSettings, sensorHelper));
         mUpdatedStateNotifiers.add(new ProximitySilencer(actionsSettings, this, sensorHelper));
         mUpdatedStateNotifiers.add(new FlipToMute(actionsSettings, this, sensorHelper));
diff --git a/hardware/motorola/MotoActions/src/org/lineageos/settings/device/MotoActionsSettings.java b/hardware/motorola/MotoActions/src/org/lineageos/settings/device/MotoActionsSettings.java
index 2701c27..73b6841 100644
--- a/hardware/motorola/MotoActions/src/org/lineageos/settings/device/MotoActionsSettings.java
+++ b/hardware/motorola/MotoActions/src/org/lineageos/settings/device/MotoActionsSettings.java
@@ -29,10 +29,12 @@
 
 import androidx.preference.PreferenceManager;
 
+import org.lineageos.settings.device.actions.CameraActivationAction;
 import org.lineageos.settings.device.actions.TorchAction;
 import org.lineageos.settings.device.actions.UpdatedStateNotifier;
 
 public class MotoActionsSettings {
+    private static final String GESTURE_CAMERA_ACTION_KEY = "gesture_camera_action";
     private static final String GESTURE_CHOP_CHOP_KEY = "gesture_chop_chop";
     private static final String GESTURE_IR_SILENCER_KEY = "gesture_ir_silencer";
     private static final String GESTURE_FLIP_TO_MUTE_KEY = "gesture_flip_to_mute";
@@ -53,6 +55,7 @@ public class MotoActionsSettings {
     private final Context mContext;
     private final UpdatedStateNotifier mUpdatedStateNotifier;
 
+    private boolean mCameraGestureEnabled;
     private boolean mChopChopEnabled;
     private boolean mPickUpGestureEnabled;
     private boolean mPocketGestureEnabled;
@@ -69,6 +72,10 @@ public MotoActionsSettings(Context context, UpdatedStateNotifier updatedStateNot
         mUpdatedStateNotifier = updatedStateNotifier;
     }
 
+    public boolean isCameraGestureEnabled() {
+        return mCameraGestureEnabled;
+    }
+
     public boolean isChopChopGestureEnabled() {
         return mChopChopEnabled;
     }
@@ -129,6 +136,10 @@ public boolean isLiftToSilenceEnabled() {
         return mLiftToSilenceEnabled;
     }
 
+    public void cameraAction() {
+        new CameraActivationAction(mContext).action();
+    }
+
     public void chopChopAction() {
         new TorchAction(mContext).action();
     }
@@ -146,6 +157,7 @@ public static String getCarrierString(Context context) {
     }
 
     private void loadPreferences(SharedPreferences sharedPreferences) {
+        mCameraGestureEnabled = sharedPreferences.getBoolean(GESTURE_CAMERA_ACTION_KEY, true);
         mChopChopEnabled = sharedPreferences.getBoolean(GESTURE_CHOP_CHOP_KEY, true);
         mIrWakeUpEnabled = sharedPreferences.getBoolean(GESTURE_IR_WAKEUP_KEY, true);
         mPickUpGestureEnabled = sharedPreferences.getBoolean(GESTURE_PICK_UP_KEY, true);
@@ -161,7 +173,9 @@ private void loadPreferences(SharedPreferences sharedPreferences) {
                 public void onSharedPreferenceChanged(SharedPreferences sharedPrefs, String key) {
                     boolean updated = true;
 
-                    if (GESTURE_CHOP_CHOP_KEY.equals(key)) {
+                    if (GESTURE_CAMERA_ACTION_KEY.equals(key)) {
+                        mCameraGestureEnabled = sharedPrefs.getBoolean(GESTURE_CAMERA_ACTION_KEY, true);
+                    } else if (GESTURE_CHOP_CHOP_KEY.equals(key)) {
                         mChopChopEnabled = sharedPrefs.getBoolean(GESTURE_CHOP_CHOP_KEY, true);
                     } else if (GESTURE_IR_WAKEUP_KEY.equals(key)) {
                         mIrWakeUpEnabled = sharedPrefs.getBoolean(GESTURE_IR_WAKEUP_KEY, true);
diff --git a/hardware/motorola/MotoActions/src/org/lineageos/settings/device/SensorHelper.java b/hardware/motorola/MotoActions/src/org/lineageos/settings/device/SensorHelper.java
index 3457bd3..a4d2a33 100644
--- a/hardware/motorola/MotoActions/src/org/lineageos/settings/device/SensorHelper.java
+++ b/hardware/motorola/MotoActions/src/org/lineageos/settings/device/SensorHelper.java
@@ -31,6 +31,7 @@
 public class SensorHelper {
     private static final String TAG = "MotoActions";
 
+    private static final int SENSOR_TYPE_MMI_CAMERA_ACTIVATION = 65540;
     private static final int SENSOR_TYPE_MMI_CHOP_CHOP = 65546;
     private static final int SENSOR_TYPE_MMI_FLAT_UP = 65537;
     private static final int SENSOR_TYPE_MMI_FLAT_DOWN = 65538;
@@ -64,6 +65,10 @@ private void dumpSensorsList() {
         }
     }
 
+    public Sensor getCameraActivationSensor() {
+        return mSensorManager.getDefaultSensor(SENSOR_TYPE_MMI_CAMERA_ACTIVATION, true);
+    }
+
     public Sensor getChopChopSensor() {
         return mSensorManager.getDefaultSensor(SENSOR_TYPE_MMI_CHOP_CHOP, true);
     }
diff --git a/hardware/motorola/MotoActions/src/org/lineageos/settings/device/actions/CameraActivationAction.java b/hardware/motorola/MotoActions/src/org/lineageos/settings/device/actions/CameraActivationAction.java
new file mode 100644
index 0000000..d8ab174
--- /dev/null
+++ b/hardware/motorola/MotoActions/src/org/lineageos/settings/device/actions/CameraActivationAction.java
@@ -0,0 +1,137 @@
+/*
+ * Copyright (c) 2015 The CyanogenMod Project
+ * Copyright (c) 2017-2022 The LineageOS Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.lineageos.settings.device.actions;
+
+import android.app.KeyguardManager;
+import android.content.ComponentName;
+import android.content.Context;
+import android.content.Intent;
+import android.content.pm.ActivityInfo;
+import android.content.pm.PackageManager;
+import android.content.pm.ResolveInfo;
+import android.os.PowerManager;
+import android.os.UserHandle;
+import android.os.VibrationEffect;
+import android.os.Vibrator;
+import android.provider.MediaStore;
+
+import org.lineageos.settings.device.SensorAction;
+
+import java.util.List;
+
+public class CameraActivationAction implements SensorAction {
+    private static final String TAG = "CameraActivationAction";
+
+    private static final int TURN_SCREEN_ON_WAKE_LOCK_MS = 500;
+
+    private final Context mContext;
+    private final KeyguardManager mKeyguardManager;
+    private final PackageManager mPackageManager;
+    private final PowerManager mPowerManager;
+    private final PowerManager.WakeLock mScreenWakelock;
+
+    public CameraActivationAction(Context context) {
+        mContext = context;
+        mKeyguardManager = (KeyguardManager) context.getSystemService(Context.KEYGUARD_SERVICE);
+        mPowerManager = (PowerManager) context.getSystemService(Context.POWER_SERVICE);
+        mPackageManager = context.getPackageManager();
+        mScreenWakelock = mPowerManager.newWakeLock(
+                PowerManager.SCREEN_BRIGHT_WAKE_LOCK | PowerManager.ACQUIRE_CAUSES_WAKEUP,
+                TAG + ":Wakelock");
+    }
+
+    @Override
+    public void action() {
+        vibrate();
+        turnScreenOn();
+        if (mKeyguardManager.inKeyguardRestrictedInputMode()) {
+            launchSecureCamera();
+        } else {
+            launchCamera();
+        }
+    }
+
+    private void vibrate() {
+        Vibrator v = (Vibrator) mContext.getSystemService(Context.VIBRATOR_SERVICE);
+        v.vibrate(VibrationEffect.createOneShot(500, VibrationEffect.DEFAULT_AMPLITUDE));
+    }
+
+    private void turnScreenOn() {
+        mScreenWakelock.acquire(TURN_SCREEN_ON_WAKE_LOCK_MS);
+    }
+
+    private void launchCamera() {
+        Intent intent = createIntent(MediaStore.INTENT_ACTION_STILL_IMAGE_CAMERA);
+        if (getBestActivityInfo(intent) != null) {
+            // Only launch if we can succeed, but let the user pick the action
+            mContext.startActivityAsUser(intent, UserHandle.CURRENT);
+        }
+    }
+
+    private void launchSecureCamera() {
+        // Keyguard won't allow a picker, try to pick the secure intent in the package
+        // that would be the one used for a default action of launching the camera
+        Intent normalIntent = createIntent(MediaStore.INTENT_ACTION_STILL_IMAGE_CAMERA);
+        Intent secureIntent = createIntent(MediaStore.INTENT_ACTION_STILL_IMAGE_CAMERA_SECURE);
+        ActivityInfo normalActivity = getBestActivityInfo(normalIntent);
+        ActivityInfo secureActivity = getBestActivityInfo(secureIntent, normalActivity);
+        if (secureActivity != null) {
+            secureIntent.setComponent(componentName(secureActivity));
+            mContext.startActivityAsUser(secureIntent, UserHandle.CURRENT);
+        }
+    }
+
+    private Intent createIntent(String intentName) {
+        Intent intent = new Intent(intentName);
+        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
+        intent.addFlags(Intent.FLAG_FROM_BACKGROUND);
+        return intent;
+    }
+
+    private ActivityInfo getBestActivityInfo(Intent intent) {
+        ResolveInfo resolveInfo = mPackageManager.resolveActivity(intent, 0);
+        if (resolveInfo != null) {
+            return resolveInfo.activityInfo;
+        } else {
+            // If the resolving failed, just find our own best match
+            return getBestActivityInfo(intent, null);
+        }
+    }
+
+    private ActivityInfo getBestActivityInfo(Intent intent, ActivityInfo match) {
+        List<ResolveInfo> activities = mPackageManager.queryIntentActivities(intent, 0);
+        ActivityInfo best = null;
+        if (activities.size() > 0) {
+            best = activities.get(0).activityInfo;
+            if (match != null) {
+                String packageName = match.applicationInfo.packageName;
+                for (int i = activities.size() - 1; i >= 0; i--) {
+                    ActivityInfo activityInfo = activities.get(i).activityInfo;
+                    if (packageName.equals(activityInfo.applicationInfo.packageName)) {
+                        best = activityInfo;
+                    }
+                }
+            }
+        }
+        return best;
+    }
+
+    private ComponentName componentName(ActivityInfo activity) {
+        return new ComponentName(activity.applicationInfo.packageName, activity.name);
+    }
+}
diff --git a/hardware/motorola/MotoActions/src/org/lineageos/settings/device/actions/CameraActivationSensor.java b/hardware/motorola/MotoActions/src/org/lineageos/settings/device/actions/CameraActivationSensor.java
new file mode 100644
index 0000000..847777c
--- /dev/null
+++ b/hardware/motorola/MotoActions/src/org/lineageos/settings/device/actions/CameraActivationSensor.java
@@ -0,0 +1,70 @@
+/*
+ * Copyright (c) 2015 The CyanogenMod Project
+ * Copyright (c) 2017-2022 The LineageOS Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.lineageos.settings.device.actions;
+
+import android.content.Context;
+import android.hardware.Sensor;
+import android.hardware.SensorEvent;
+import android.hardware.SensorEventListener;
+import android.util.Log;
+
+import org.lineageos.settings.device.MotoActionsSettings;
+import org.lineageos.settings.device.SensorHelper;
+
+public class CameraActivationSensor implements SensorEventListener, UpdatedStateNotifier {
+    private static final String TAG = "MotoActions-CameraSensor";
+
+    private final MotoActionsSettings mMotoActionsSettings;
+
+    private boolean mIsEnabled;
+
+    public CameraActivationSensor(MotoActionsSettings motoActionsSettings,
+                                  SensorHelper sensorHelper) {
+        mMotoActionsSettings = motoActionsSettings;
+        Sensor sensor = sensorHelper.getCameraActivationSensor();
+        sensorHelper.registerListener(sensor, this);
+    }
+
+    @Override
+    public synchronized void updateState() {
+        if (mMotoActionsSettings.isCameraGestureEnabled() && !mIsEnabled) {
+            Log.d(TAG, "Enabling");
+            mIsEnabled = true;
+        } else if (!mMotoActionsSettings.isCameraGestureEnabled() && mIsEnabled) {
+            Log.d(TAG, "Disabling");
+            mIsEnabled = false;
+        }
+    }
+
+    @Override
+    public void onSensorChanged(SensorEvent event) {
+        Log.d(TAG, "activate camera");
+        if (mIsEnabled) {
+            mMotoActionsSettings.cameraAction();
+        }
+    }
+
+    @Override
+    public void onAccuracyChanged(Sensor sensor, int accuracy) {
+    }
+
+    public static boolean hasSensor(Context context) {
+        SensorHelper sensorHelper = new SensorHelper(context);
+        return sensorHelper.getCameraActivationSensor() != null;
+    }
+}
diff --git a/hardware/motorola/overlay/Android.bp b/hardware/motorola/overlay/Android.bp
deleted file mode 100644
index e9f705e..0000000
--- a/hardware/motorola/overlay/Android.bp
+++ /dev/null
@@ -1,11 +0,0 @@
-//
-// Copyright (C) 2022 The LineageOS Project
-// SPDX-License-Identifier: Apache-2.0
-//
-
-phony {
-    name: "MotoCommonOverlay",
-    required: [
-        "FrameworksResMotoCommon",
-    ]
-}
diff --git a/hardware/motorola/overlay/MotoFrameworksResTarget/Android.bp b/hardware/motorola/overlay/MotoFrameworksResTarget/Android.bp
deleted file mode 100644
index 7019d24..0000000
--- a/hardware/motorola/overlay/MotoFrameworksResTarget/Android.bp
+++ /dev/null
@@ -1,10 +0,0 @@
-//
-// Copyright (C) 2022 The LineageOS Project
-// SPDX-License-Identifier: Apache-2.0
-//
-
-runtime_resource_overlay {
-    name: "FrameworksResMotoCommon",
-    sdk_version: "current",
-    vendor: true
-}
diff --git a/hardware/motorola/overlay/MotoFrameworksResTarget/AndroidManifest.xml b/hardware/motorola/overlay/MotoFrameworksResTarget/AndroidManifest.xml
deleted file mode 100644
index a288b18..0000000
--- a/hardware/motorola/overlay/MotoFrameworksResTarget/AndroidManifest.xml
+++ /dev/null
@@ -1,9 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!--
-     Copyright (C) 2022 The LineageOS Project
-     SPDX-License-Identifier: Apache-2.0
--->
-<manifest xmlns:android="http://schemas.android.com/apk/res/android"
-    package="android.overlay.moto.common">
-    <overlay android:targetPackage="android" android:isStatic="true" android:priority="500"/>
-</manifest>
diff --git a/hardware/motorola/overlay/MotoFrameworksResTarget/res/values/config.xml b/hardware/motorola/overlay/MotoFrameworksResTarget/res/values/config.xml
deleted file mode 100644
index c6086a6..0000000
--- a/hardware/motorola/overlay/MotoFrameworksResTarget/res/values/config.xml
+++ /dev/null
@@ -1,12 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!--
-     Copyright (C) 2022 The LineageOS Project
-     SPDX-License-Identifier: Apache-2.0
--->
-<resources>
-    <!-- The OEM specified sensor type for the gesture to launch the camera app. -->
-    <integer name="config_cameraLaunchGestureSensorType">65540</integer>
-    <!-- The OEM specified sensor string type for the gesture to launch camera app, this value
-         must match the value of config_cameraLaunchGestureSensorType in OEM's HAL -->
-    <string translatable="false" name="config_cameraLaunchGestureSensorStringType">com.motorola.sensor.camera_activate</string>
-</resources>

From 3a9f2727c7f8df75938303dc95c5a5dee356058c Mon Sep 17 00:00:00 2001
From: Adithya R <gh0strider.2k18.reborn@gmail.com>
Date: Sat, 1 Apr 2023 07:29:26 +0530
Subject: [PATCH 4/4] MotoActions: Fix camera twist gesture icon

Extend 126240e56442daa2ec250fd1072337984cc69e31
---
 MotoActions/res/drawable/ic_settings_twist.xml | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

diff --git a/hardware/motorola/MotoActions/res/drawable/ic_settings_twist.xml b/hardware/motorola/MotoActions/res/drawable/ic_settings_twist.xml
index f04e77f..5421eb5 100644
--- a/hardware/motorola/MotoActions/res/drawable/ic_settings_twist.xml
+++ b/hardware/motorola/MotoActions/res/drawable/ic_settings_twist.xml
@@ -9,18 +9,18 @@
     <path android:fillColor="#00000000" android:pathData="M20.0003,20.0038m-16.3277,6.4349a17.55,17.55 113.49,1 1,32.6554 -12.8699a17.55,17.55 113.49,1 1,-32.6554 12.8699" android:strokeColor="#ff0bbbef" android:strokeWidth="0.28" android:strokeAlpha="0.0" android:fillAlpha="0.0" />
     <path android:fillColor="#00000000" android:pathData="M20.0003,20.0062m-6.4349,16.3277a17.55,17.55 66.51,1 1,12.8699 -32.6554a17.55,17.55 66.51,1 1,-12.8699 32.6554" android:strokeColor="#ff0bbbef" android:strokeWidth="0.28" android:strokeAlpha="0.0" android:fillAlpha="0.0" />
     <path android:fillColor="?android:attr/colorAccent" android:pathData="M14.2,13.79c0.15,-0.13 0.27,-0.17 0.48,0A1.49,1.49 0,0 1,15.23 15a1.55,1.55 0,0 1,-0.27 0.88c-0.48,0.75 -1,1.54 -1.67,2.51a1.71,1.71 0,0 0,-0.35 1,1.36 1.36,0 0,0 0.17,0.64 1.48,1.48 0,0 0,1.41 0.73s-1.68,10.62 -4,10.53a5.17,5.17 0,0 1,-4.75 -4.49c-0.07,-0.7 -0.08,-1.4 -0.08,-2 0,-0.24 0,-0.47 0,-0.71v-0.85a3.42,3.42 0,0 1,1.13 -2.62c2,-1.86 4.07,-3.74 6.07,-5.56Z" />
-    <path android:fillColor="#ffffffff" android:pathData="M4.59,24.73L4.59,24c0,-0.24 0,-0.48 0,-0.72v-0.11a4.56,4.56 0,0 1,1.48 -3.44c2,-1.86 4.08,-3.74 6.07,-5.56L13.46,13a1.4,1.4 0,0 1,1.92 0,2.59 2.59,0 0,1 0.94,2 2.72,2.72 0,0 1,-0.44 1.48c-0.48,0.75 -1,1.55 -1.69,2.53a0.71,0.71 0,0 0,-0.15 0.34,0.25 0.25,0 0,0 0,0.12c0,0.07 0.09,0.15 0.45,0.15 0,0 -1.69,12.81 -4,12.73a6.24,6.24 0,0 1,-5.8 -5.49C4.6,26.09 4.59,25.35 4.59,24.73ZM5.69,23.3L5.69,24c0,0.24 0,0.47 0,0.71 0,0.6 0,1.3 0.08,2a5.17,5.17 0,0 0,4.75 4.49c2.33,0.09 4,-10.53 4,-10.53A1.48,1.48 0,0 1,13.11 20a1.36,1.36 0,0 1,-0.17 -0.64,1.71 1.71,0 0,1 0.35,-1c0.66,-1 1.19,-1.76 1.67,-2.51a1.55,1.55 0,0 0,0.27 -0.88,1.49 1.49,0 0,0 -0.55,-1.17c-0.21,-0.18 -0.33,-0.14 -0.48,0L12.89,15c-2,1.82 -4.05,3.7 -6.07,5.56a3.42,3.42 0,0 0,-1.13 2.62Z" />
-    <path android:fillColor="#ffffffff" android:pathData="M24.49,23.31m-1.05,0a1.05,1.05 0,1 1,2.1 0a1.05,1.05 0,1 1,-2.1 0" />
+    <path android:fillColor="?android:attr/colorPrimary" android:pathData="M4.59,24.73L4.59,24c0,-0.24 0,-0.48 0,-0.72v-0.11a4.56,4.56 0,0 1,1.48 -3.44c2,-1.86 4.08,-3.74 6.07,-5.56L13.46,13a1.4,1.4 0,0 1,1.92 0,2.59 2.59,0 0,1 0.94,2 2.72,2.72 0,0 1,-0.44 1.48c-0.48,0.75 -1,1.55 -1.69,2.53a0.71,0.71 0,0 0,-0.15 0.34,0.25 0.25,0 0,0 0,0.12c0,0.07 0.09,0.15 0.45,0.15 0,0 -1.69,12.81 -4,12.73a6.24,6.24 0,0 1,-5.8 -5.49C4.6,26.09 4.59,25.35 4.59,24.73ZM5.69,23.3L5.69,24c0,0.24 0,0.47 0,0.71 0,0.6 0,1.3 0.08,2a5.17,5.17 0,0 0,4.75 4.49c2.33,0.09 4,-10.53 4,-10.53A1.48,1.48 0,0 1,13.11 20a1.36,1.36 0,0 1,-0.17 -0.64,1.71 1.71,0 0,1 0.35,-1c0.66,-1 1.19,-1.76 1.67,-2.51a1.55,1.55 0,0 0,0.27 -0.88,1.49 1.49,0 0,0 -0.55,-1.17c-0.21,-0.18 -0.33,-0.14 -0.48,0L12.89,15c-2,1.82 -4.05,3.7 -6.07,5.56a3.42,3.42 0,0 0,-1.13 2.62Z" />
+    <path android:fillColor="?android:attr/colorPrimary" android:pathData="M24.49,23.31m-1.05,0a1.05,1.05 0,1 1,2.1 0a1.05,1.05 0,1 1,-2.1 0" />
     <path android:fillColor="?android:attr/colorAccent" android:pathData="M20,20.22l6.84,-0.29h0.07A1.61,1.61 0,0 1,27 23.15l-10.35,0.44Z" />
-    <path android:fillColor="#ffffffff" android:pathData="M26.94,20.63a0.91,0.91 0,0 1,0 1.82l-7.07,0.3h0l-1.49,0.06 1.91,-1.91 6.57,-0.27h0m0,-1.4h-0.1l-6.57,0.28 -0.54,0 -0.39,0.38 -1.91,1.91L14.9,24.36l3.58,-0.15L20,24.14l7.07,-0.3a2.31,2.31 0,0 0,-0.1 -4.61Z" />
-    <path android:fillColor="#ffffffff" android:pathData="M5.9285,25.595L19.0736,12.4499A2.11,2.11 90,0 1,22.0576 12.4499L27.5094,17.9017A2.11,2.11 90,0 1,27.5094 20.8857L14.3643,34.0308A2.11,2.11 90,0 1,11.3803 34.0308L5.9285,28.579A2.11,2.11 90,0 1,5.9285 25.595z" />
+    <path android:fillColor="?android:attr/colorPrimary" android:pathData="M26.94,20.63a0.91,0.91 0,0 1,0 1.82l-7.07,0.3h0l-1.49,0.06 1.91,-1.91 6.57,-0.27h0m0,-1.4h-0.1l-6.57,0.28 -0.54,0 -0.39,0.38 -1.91,1.91L14.9,24.36l3.58,-0.15L20,24.14l7.07,-0.3a2.31,2.31 0,0 0,-0.1 -4.61Z" />
+    <path android:fillColor="?android:attr/colorPrimary" android:pathData="M5.9285,25.595L19.0736,12.4499A2.11,2.11 90,0 1,22.0576 12.4499L27.5094,17.9017A2.11,2.11 90,0 1,27.5094 20.8857L14.3643,34.0308A2.11,2.11 90,0 1,11.3803 34.0308L5.9285,28.579A2.11,2.11 90,0 1,5.9285 25.595z" />
     <path android:fillColor="?android:attr/colorAccent" android:pathData="M6.6909,26.0646l12.9047,-12.9047l7.1983,7.1983l-12.9047,12.9047z" />
     <path android:fillColor="?android:attr/colorAccent" android:pathData="M20.11,29.48a1.58,1.58 0,0 1,-1.47 -1A1.6,1.6 0,0 1,19 26.75a1.74,1.74 0,0 1,1.12 -0.49l0.69,-0.06h0.1a1.65,1.65 0,0 1,1.62 1.26,1.62 1.62,0 0,1 -0.3,1.33 1.6,1.6 0,0 1,-1.2 0.63l-0.8,0.06Z" />
-    <path android:fillColor="#ffffffff" android:pathData="M20.89,26.9a1,1 0,0 1,0.94 0.71A0.91,0.91 0,0 1,21 28.72l-0.83,0.07h0a0.9,0.9 0,0 1,-0.63 -1.54,0.93 0.93,0 0,1 0.65,-0.29l0.72,-0.06h0m0,-1.4h-0.16l-0.7,0.06a2.36,2.36 0,0 0,-1.54 0.69,2.3 2.3,0 0,0 1.62,3.92h0.15l0.81,-0.07a2.31,2.31 0,0 0,2.12 -2.8,2.35 2.35,0 0,0 -2.3,-1.81Z" />
+    <path android:fillColor="?android:attr/colorPrimary" android:pathData="M20.89,26.9a1,1 0,0 1,0.94 0.71A0.91,0.91 0,0 1,21 28.72l-0.83,0.07h0a0.9,0.9 0,0 1,-0.63 -1.54,0.93 0.93,0 0,1 0.65,-0.29l0.72,-0.06h0m0,-1.4h-0.16l-0.7,0.06a2.36,2.36 0,0 0,-1.54 0.69,2.3 2.3,0 0,0 1.62,3.92h0.15l0.81,-0.07a2.31,2.31 0,0 0,2.12 -2.8,2.35 2.35,0 0,0 -2.3,-1.81Z" />
     <path android:fillColor="#ff00a09b" android:pathData="M17.13,32.46A1.6,1.6 0,0 1,16 29.73a1.67,1.67 0,0 1,1.11 -0.49l0.69,-0.06h0.1a1.61,1.61 0,0 1,1.33 2.59,1.62 1.62,0 0,1 -1.21,0.62l-0.8,0.07Z" />
-    <path android:fillColor="#ffffffff" android:pathData="M17.91,29.87a1,1 0,0 1,0.94 0.71A0.92,0.92 0,0 1,18 31.7l-0.82,0.06h-0.05a0.9,0.9 0,0 1,-0.63 -1.54,1 1,0 0,1 0.65,-0.28l0.72,-0.06h0m0,-1.39h-0.16l-0.69,0.06a2.34,2.34 0,0 0,-1.55 0.69,2.3 2.3,0 0,0 1.62,3.92h0.16l0.8,-0.06a2.29,2.29 0,0 0,1.7 -0.9,2.33 2.33,0 0,0 0.42,-1.91 2.35,2.35 0,0 0,-2.3 -1.8Z" />
+    <path android:fillColor="?android:attr/colorPrimary" android:pathData="M17.91,29.87a1,1 0,0 1,0.94 0.71A0.92,0.92 0,0 1,18 31.7l-0.82,0.06h-0.05a0.9,0.9 0,0 1,-0.63 -1.54,1 1,0 0,1 0.65,-0.28l0.72,-0.06h0m0,-1.39h-0.16l-0.69,0.06a2.34,2.34 0,0 0,-1.55 0.69,2.3 2.3,0 0,0 1.62,3.92h0.16l0.8,-0.06a2.29,2.29 0,0 0,1.7 -0.9,2.33 2.33,0 0,0 0.42,-1.91 2.35,2.35 0,0 0,-2.3 -1.8Z" />
     <path android:fillColor="?android:attr/colorAccent" android:pathData="M23.18,26.42a1.6,1.6 0,0 1,-1.13 -2.73,1.67 1.67,0 0,1 1.11,-0.49l0.69,-0.06H24a1.64,1.64 0,0 1,1.62 1.25,1.61 1.61,0 0,1 -0.29,1.34 1.62,1.62 0,0 1,-1.21 0.62l-0.8,0.07Z" />
-    <path android:fillColor="#ffffffff" android:pathData="M24,23.83a0.94,0.94 0,0 1,0.94 0.71A0.92,0.92 0,0 1,24 25.66l-0.82,0.06h0a0.9,0.9 0,0 1,-0.64 -1.54,1 1,0 0,1 0.65,-0.28l0.72,-0.07h0m0,-1.39h-0.16l-0.69,0.06a2.31,2.31 0,0 0,-1.54 0.69,2.3 2.3,0 0,0 1.62,3.92h0.15l0.8,-0.06a2.33,2.33 0,0 0,1.7 -0.9,2.29 2.29,0 0,0 0.42,-1.91 2.34,2.34 0,0 0,-2.3 -1.8Z" />
+    <path android:fillColor="?android:attr/colorPrimary" android:pathData="M24,23.83a0.94,0.94 0,0 1,0.94 0.71A0.92,0.92 0,0 1,24 25.66l-0.82,0.06h0a0.9,0.9 0,0 1,-0.64 -1.54,1 1,0 0,1 0.65,-0.28l0.72,-0.07h0m0,-1.39h-0.16l-0.69,0.06a2.31,2.31 0,0 0,-1.54 0.69,2.3 2.3,0 0,0 1.62,3.92h0.15l0.8,-0.06a2.33,2.33 0,0 0,1.7 -0.9,2.29 2.29,0 0,0 0.42,-1.91 2.34,2.34 0,0 0,-2.3 -1.8Z" />
     <path android:strokeColor="@color/quick" android:pathData="M29.44,16.46a1,1 0,0 1,-0.53 -0.15A26.91,26.91 0,0 1,24.82 13c-2.7,-2.63 -4.82,-6.46 -3.54,-8 0.74,-0.92 2,-0.79 3.78,0.38A1,1 0,1 1,24 7a5.43,5.43 0,0 0,-1.09 -0.58,11.45 11.45,0 0,0 3.32,5.18 23.86,23.86 0,0 0,3.78 3,1 1,0 0,1 0.3,1.37A1,1 0,0 1,29.44 16.46Z" />
     <path android:pathData="M34.25,18.78a6.07,6.07 0,0 1,-1.57 -0.23,1 1,0 1,1 0.52,-1.92 3.44,3.44 0,0 0,1.23 0.17c0,-0.55 -0.83,-2.31 -3.33,-5a22.89,22.89 0,0 0,-3.92 -3.41,1 1,0 0,1 1.09,-1.65 24.54,24.54 0,0 1,4.28 3.71c4,4.36 4.18,6.45 3.59,7.43A2,2 0,0 1,34.25 18.78Z" />
 </vector>
